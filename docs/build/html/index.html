

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Welcome to MachineIO’s documentation! &mdash; MachineIO  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> MachineIO
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to MachineIO’s documentation!</a></li>
<li><a class="reference internal" href="#about-machineio">About MachineIO</a><ul>
<li><a class="reference internal" href="#a-little-about-machineio">A little about MachineIO</a></li>
</ul>
</li>
<li><a class="reference internal" href="#before-you-start">Before you start</a><ul>
<li><a class="reference internal" href="#functors">Functors</a></li>
<li><a class="reference internal" href="#lambda-functions">Lambda Functions</a></li>
<li><a class="reference internal" href="#gpio">GPIO</a></li>
<li><a class="reference internal" href="#single-pin-types">Single pin types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#the-basics">The basics</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#device">Device</a><ul>
<li><a class="reference internal" href="#protocols-drivers">Protocols / Drivers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pin">Pin</a></li>
<li><a class="reference internal" href="#group">Group</a></li>
<li><a class="reference internal" href="#network">Network</a><ul>
<li><a class="reference internal" href="#setup">Setup</a></li>
<li><a class="reference internal" href="#code">Code</a></li>
<li><a class="reference internal" href="#safety">Safety</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">MachineIO</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Welcome to MachineIO’s documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-machineio-s-documentation">
<h1>Welcome to MachineIO’s documentation!<a class="headerlink" href="#welcome-to-machineio-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Not for use on heavy machinery while in alpha.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Dry run your code prior to live testing.</p>
</div>
</div>
<div class="section" id="about-machineio">
<h1>About MachineIO<a class="headerlink" href="#about-machineio" title="Permalink to this headline">¶</a></h1>
<div class="section" id="a-little-about-machineio">
<h2>A little about MachineIO<a class="headerlink" href="#a-little-about-machineio" title="Permalink to this headline">¶</a></h2>
<p>MachineIO is a toolkit to help you create a functional interface to control GPIO.
for your machines that use one or more micro controllers.
It helps you quickly create your own functions (functors) for interfacing with hardware.
The specific micro controller(s) you choose to use can later be swapped out with simple
modifications of your functor library. Devices can be added and controlled over a network
with a few simple additions to your functor library.</p>
</div>
</div>
<div class="section" id="before-you-start">
<h1>Before you start<a class="headerlink" href="#before-you-start" title="Permalink to this headline">¶</a></h1>
<p>What you need to know to get started.</p>
<div class="section" id="functors">
<h2>Functors<a class="headerlink" href="#functors" title="Permalink to this headline">¶</a></h2>
<p>What is a functor?
A functor is a class who’s objects are meant to be called like a function.</p>
<p>Why not just functions?
Functions are great! Simple and effective. But having a entire library of functions with oddly specific names that require you to put in what pin you want to perfom the action every time gets tiresome and is hard to read. Also, if you change how a pin works you might have to change it a throughout your code.</p>
<p>Why not just classes?
Classes are good but end up getting complex and messy once the code gets too big. This gets extra bad in python because you might want to access members as well as functions for this or that.</p>
</div>
<div class="section" id="lambda-functions">
<h2>Lambda Functions<a class="headerlink" href="#lambda-functions" title="Permalink to this headline">¶</a></h2>
<p>A lambda function is simply an inline function.
It returns the result of the right hand side of the colon, while the left is used to define the arguments</p>
<p>Here is an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">arg</span><span class="p">:</span> <span class="n">arg</span><span class="o">*</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="gpio">
<h2>GPIO<a class="headerlink" href="#gpio" title="Permalink to this headline">¶</a></h2>
<p>General purpose input/output</p>
</div>
<div class="section" id="single-pin-types">
<h2>Single pin types<a class="headerlink" href="#single-pin-types" title="Permalink to this headline">¶</a></h2>
<p>Digital</p>
<p>Analog</p>
<p>PWM (pulse width modulation)</p>
<p>PPM (pulse-position modulation used on servos)</p>
</div>
</div>
<div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-basics">
<h2>The basics<a class="headerlink" href="#the-basics" title="Permalink to this headline">¶</a></h2>
<p>machineio.Pin(<em>device</em>, <em>pin_number</em>, <em>io_type_flag</em>, <em>data_type_flag</em>, <a href="#id1"><span class="problematic" id="id2">**</span></a><em>keywords</em>)</p>
<p><strong>Device</strong>
Devices are objects that represent a GPIO group. They are used as an address and protocol for each pin.</p>
<p><strong>Pin number</strong>
this will be specific to the driver/protocol but should be referenced directly from the hardware’s standard layout.
you should be able to look this up with “(your hardware’s name) pin layout”</p>
<p><strong>modular IO flags</strong>
mio.Input() and mio.Output()</p>
<p><strong>modular type flags</strong>
mio.Digital() mio.Analog() mio.PWM() mio.PPM()</p>
<dl class="docutils">
<dt><strong>keyword basics for safety and flexibility</strong></dt>
<dd><ul class="first last simple">
<li>halt: a lambda function for safe shutdown</li>
<li>translate: a function for translation</li>
<li>limits: acceptable input range, as a tuple, before translation.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p><strong>Creating a device and pin</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">machineio</span> <span class="k">as</span> <span class="nn">mio</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">mio</span><span class="o">.</span><span class="n">Device</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
<span class="n">pin5</span> <span class="o">=</span> <span class="n">mio</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">mio</span><span class="o">.</span><span class="n">Output</span><span class="p">(),</span> <span class="n">mio</span><span class="o">.</span><span class="n">Digital</span><span class="p">(),</span> <span class="n">halt</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="p">(</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
<p>A device must first be created. in this example we use the “test” protocol that just prints out the changes.
The halt keyword is a function that returns the pin to it’s default state. It is required for safety reasons.</p>
<p><strong>Using your pin</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">my_funclib</span> <span class="k">as</span> <span class="nn">flib</span>
<span class="n">flib</span><span class="o">.</span><span class="n">pin5</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The control library is meant to be created in it’s own file and imported into your code.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For Linux users, your code will need to run in a privileged mode to access the usb ports.</p>
</div>
</div>
</div>
<div class="section" id="device">
<h1>Device<a class="headerlink" href="#device" title="Permalink to this headline">¶</a></h1>
<p>Devices are created with machineio.Device(<em>protocol_name</em>, <em>serial_port</em>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">machineio</span> <span class="k">as</span> <span class="nn">mio</span>
<span class="n">arduino_device</span> <span class="o">=</span> <span class="n">mio</span><span class="o">.</span><span class="n">Device</span><span class="p">(</span><span class="s1">&#39;firmata&#39;</span><span class="p">,</span> <span class="s1">&#39;AMC0&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="protocols-drivers">
<h2>Protocols / Drivers<a class="headerlink" href="#protocols-drivers" title="Permalink to this headline">¶</a></h2>
<p><strong>test</strong></p>
<p>prints the outputs.</p>
<p><strong>firmata</strong></p>
<p>A usb controlled firmware for the arduino.
You will need to look up how to load this firmware on to the arduino before you can start.</p>
<p><strong>raspberry-pi</strong></p>
<p>not implemented yet :(</p>
</div>
</div>
<div class="section" id="pin">
<h1>Pin<a class="headerlink" href="#pin" title="Permalink to this headline">¶</a></h1>
<p>A pin functor is created by after defining a device (or directly inside a group if you don’t need direct access)
It represents everything about the pin down to a single parameter function for output, or none for input.
safety pin halt state should be some position that is safe for the machine to stop operation.</p>
<p><a href="#id3"><span class="problematic" id="id4">**</span></a>pin1 = machineio.Pin**(<em>device</em>, <em>pin_number</em>, <em>io_type_flag</em>, <em>data_type_flag</em>, <a href="#id5"><span class="problematic" id="id6">**</span></a><em>keywords</em>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pin3</span> <span class="o">=</span> <span class="n">machineio</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="n">arduino_device</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">mio</span><span class="o">.</span><span class="n">Output</span><span class="p">(),</span> <span class="n">mio</span><span class="o">.</span><span class="n">PPM</span><span class="p">(),</span> <span class="n">halt</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="p">(</span><span class="mi">90</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>pin1.state()</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">current_value</span> <span class="o">=</span> <span class="n">pin3</span><span class="o">.</span><span class="n">state</span><span class="p">()</span>
</pre></div>
</div>
<ul class="simple">
<li>Device: a device object</li>
<li>Pin number: the pin number on the board.</li>
<li>modular IO flags:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>mio.Input()</li>
<li>mio.Output()</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>modular type flags:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>mio.Digital()</li>
<li>mio.Analog()</li>
<li>mio.PWM()</li>
<li>mio.PPM() - this is the PWM servo range (Pulse-position modulation)</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>supported keywords:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>halt: a lambda function for safe shutdown</li>
<li>translate: a function for translation</li>
<li>limits: acceptable input range, as a tuple (low,high), before translation.</li>
<li>translate_limits: acceptable input range, as a tuple (low,high), after translation.</li>
<li>callback: a function called with the pin object as a parameter upon updating state. Given (value, pin_obj) as arguments. Called asynchronously; however, it must not block the thread.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="group">
<h1>Group<a class="headerlink" href="#group" title="Permalink to this headline">¶</a></h1>
<p>A single pin hardly ever does something you need by itself. Often pins must work together to accomplish a task.
A single pin can be used in more than one group; however, it will take on the state of the latest call made to it.
Groups can be have more then one parameter and a activation delay can be set for each pin if required. The delay is
handled as a non-blocking call, so it fires asynchronously from your code.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Groups can not be used for inputs (at the moment).</p>
</div>
<p><strong>A safety function should be defined for groups, while not necessary it is strongly recommended.</strong>
The safety.stop() is a complex process you need to know.
All pins not in a group will be set to their halt/kill state
All pins that are in a group will ONLY have their group halt/stop function called.
For nested groups it will create a call chain top down.
A chain can be prevented from calling children by returning False on the groups halt/stop function.
For pins in more than one group whatever group it branches to first will stop it.
Further actions will be prevented until safety.Safe.proceed is True</p>
<dl class="docutils">
<dt>machineio.Group(dimensions, limit=lambda x: True, <a href="#id7"><span class="problematic" id="id8">**</span></a>keywords)</dt>
<dd><ul class="first simple">
<li>RETURN: the Group functor/object</li>
<li>dimensions: int of how many arguments the group takes.</li>
<li>limit: a boolean return function to determine if the input is within the limits.</li>
<li>Keyword arguments:</li>
</ul>
<blockquote class="last">
<div><ul class="simple">
<li>objects: (not recommended use .add) a list of pins</li>
<li>translations: (not recommended use .add) a list of translation functions</li>
<li>delay: (not recommended use .add) a list of time delays in seconds</li>
</ul>
</div></blockquote>
</dd>
<dt>Group_obj.add(pin_or_group, translation=lambda x: x, delay=None)</dt>
<dd><ul class="first last simple">
<li>RETURN: None</li>
<li>pin_or_group: the pin or group object your adding</li>
<li>translate: the function that takes this (parent) Group’s functor call args and returns the .add pin or groups args.</li>
<li>delay: when this (parent) Group is called it waits this amount of seconds before making the call to the .add group.</li>
</ul>
</dd>
</dl>
<p><strong>Group_obj.state()</strong>: the last known state of the group as the called tuple</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Setup</span>
<span class="kn">import</span> <span class="nn">machineio</span> <span class="k">as</span> <span class="nn">mio</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">mio</span><span class="o">.</span><span class="n">Device</span><span class="p">(</span><span class="s1">&#39;firmata&#39;</span><span class="p">)</span>
<span class="n">pin3</span> <span class="o">=</span> <span class="n">machineio</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="n">arduino_device</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">mio</span><span class="o">.</span><span class="n">Output</span><span class="p">(),</span> <span class="n">mio</span><span class="o">.</span><span class="n">PPM</span><span class="p">(),</span> <span class="n">halt</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="p">(</span><span class="mi">90</span><span class="p">))</span>
<span class="n">pin5</span> <span class="o">=</span> <span class="n">machineio</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="n">arduino_device</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">mio</span><span class="o">.</span><span class="n">Output</span><span class="p">(),</span> <span class="n">mio</span><span class="o">.</span><span class="n">PPM</span><span class="p">(),</span> <span class="n">halt</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="p">(</span><span class="mi">90</span><span class="p">))</span>
<span class="n">mixed</span> <span class="o">=</span> <span class="n">mio</span><span class="o">.</span><span class="n">Group</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="mi">180</span><span class="p">)</span>
<span class="n">mixed</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">pin3</span><span class="p">,</span> <span class="n">translate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="p">)</span>
<span class="n">mixed</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">pin5</span><span class="p">,</span> <span class="n">translate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">y</span><span class="p">,</span> <span class="n">delay</span><span class="o">=.</span><span class="mi">25</span><span class="p">)</span>

<span class="c1">#Use</span>
<span class="n">mixed</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="mi">90</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">mixed</span><span class="o">.</span><span class="n">state</span><span class="p">()</span> <span class="o">==</span> <span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="mi">90</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="network">
<h1>Network<a class="headerlink" href="#network" title="Permalink to this headline">¶</a></h1>
<p>Encryption is a part of how the network functions, it should not be disabled.</p>
<dl class="docutils">
<dt>Definitions</dt>
<dd><ul class="first last simple">
<li>Server: the machineio/scripts/server.py script</li>
<li>Client: the machineio/scripts/client.py script</li>
<li>Controller: the Network object created in your code. (also technically a client)</li>
</ul>
</dd>
</dl>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>generate all the required key files</li>
</ol>
<blockquote>
<div><ol class="arabic simple">
<li>to do this use the make.py script with each client and controller name as an argument</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="2">
<li>distribute the key files to their intended hosts</li>
</ol>
<blockquote>
<div><ol class="arabic simple">
<li>copy the “controller.key” file to where your running your code.</li>
<li>copy any other named file to it’s equally named client.</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="3">
<li>start the server.py script</li>
</ol>
<blockquote>
<div><ol class="arabic simple">
<li>with ALL the required key files still with server.py start server.py</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="4">
<li>connect the client.py script to the server</li>
</ol>
<blockquote>
<div><ol class="arabic simple">
<li>with ONLY the key file with the same name as the client, start client.py</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="5">
<li>run your code.</li>
</ol>
<blockquote>
<div><ol class="arabic simple">
<li>with ONLY the controller.key file in your execution directory start your program.</li>
</ol>
</div></blockquote>
<p>The client and server are hands off. You should only need to start them up and they will do everything else.
This includes recovery on errors and reset on restart of your code.</p>
</div>
<div class="section" id="code">
<h2>Code<a class="headerlink" href="#code" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Halt must be a lambda function for network to operate properly at this time.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At the moment, only pins (not groups) are given to the client. Stop will not work properly on link_failure.</p>
</div>
<dl class="docutils">
<dt>Before creating a network device you must create a network.</dt>
<dd><ul class="first last simple">
<li>ctrl_net = machineio.Network(host, port=20801, key_file=’controller.key’)</li>
</ul>
</dd>
<dt>Once you have a network you can create a device</dt>
<dd><ul class="first last simple">
<li>ctrl_net.Device(protocol, serial_com_port, client_name=’default’, linkfailure=machineio.kill)</li>
</ul>
</dd>
<dt>If you need to transport some data from or to device client you can do that. (This will likely change)</dt>
<dd><ul class="first last simple">
<li>ctrl_net.send(‘data’, ‘controller’, ‘to_client_name’, {‘exec’: code})</li>
</ul>
</dd>
<dt>If you would like to reinitialize the client without restarting it send the command</dt>
<dd><ul class="first last simple">
<li>ctrl_net.send(‘notice’, ‘controller’, client_name, ‘reset’)</li>
</ul>
</dd>
</dl>
<p>Very little changes in your code. You add a network object at the top of your code, and change your device to a network
device. A network device is just like a regular device, only it needs an extra keyword argument “client_name”</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Setup</span>
<span class="kn">import</span> <span class="nn">machineio</span> <span class="k">as</span> <span class="nn">mio</span>
<span class="n">network</span> <span class="o">=</span> <span class="n">mio</span><span class="o">.</span><span class="n">Network</span><span class="p">(</span><span class="s1">&#39;192.168.0.5&#39;</span><span class="p">)</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">Device</span><span class="p">(</span><span class="s1">&#39;firmata&#39;</span><span class="p">,</span> <span class="n">client_name</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">pin3</span> <span class="o">=</span> <span class="n">machineio</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="n">arduino_device</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">mio</span><span class="o">.</span><span class="n">Output</span><span class="p">(),</span> <span class="n">mio</span><span class="o">.</span><span class="n">PPM</span><span class="p">(),</span> <span class="n">halt</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="p">(</span><span class="mi">90</span><span class="p">))</span>
<span class="n">pin5</span> <span class="o">=</span> <span class="n">machineio</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="n">arduino_device</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">mio</span><span class="o">.</span><span class="n">Output</span><span class="p">(),</span> <span class="n">mio</span><span class="o">.</span><span class="n">PPM</span><span class="p">(),</span> <span class="n">halt</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="p">(</span><span class="mi">90</span><span class="p">))</span>
<span class="n">mixed</span> <span class="o">=</span> <span class="n">mio</span><span class="o">.</span><span class="n">Group</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="mi">180</span><span class="p">)</span>
<span class="n">mixed</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">pin3</span><span class="p">,</span> <span class="n">translate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="p">)</span>
<span class="n">mixed</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">pin5</span><span class="p">,</span> <span class="n">translate</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">y</span><span class="p">,</span> <span class="n">delay</span><span class="o">=.</span><span class="mi">25</span><span class="p">)</span>

<span class="c1">#Use</span>
<span class="n">mixed</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="mi">90</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">mixed</span><span class="o">.</span><span class="n">state</span><span class="p">()</span> <span class="o">==</span> <span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="mi">90</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="safety">
<h2>Safety<a class="headerlink" href="#safety" title="Permalink to this headline">¶</a></h2>
<p>If the only controller disconnects the server will tell all clients to halt.
If a client disconnects the server will call the Network.link_failure()
given by the link_failure(client_name) keyword. If not given it will do nothing.
If one of multiple controllers disconnects it will call
Network.controller_link_failure(self, controller_name) given as a keyword.
If that does not exist it will do nothing.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Michael Elliott.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>